[general]
aws_profile = "staging-default"
min_gh_cli_version = "v2.50.0"
ctf_version = "0.10.30"

[job_distributor.build_config]
repository = "https://github.com/smartcontractkit/job-distributor"
branch = "v0.22.1"
dockerfile = "e2e/Dockerfile.e2e"
docker_ctx = "."
local_image = "job-distributor:0.22.1"

[job_distributor.pull_config]
local_image = "job-distributor:0.22.1"
ecr_image = "{{.ECR}}/job-distributor:0.22.1"

[chip_ingress.build_config]
repository = "https://github.com/smartcontractkit/atlas"
branch = "master"
commit = "da84cb72d3a160e02896247d46ab4b9806ebee2f"
dockerfile = "chip-ingress/Dockerfile"
docker_ctx = "chip-ingress"
local_image = "chip-ingress:local-cre"
pre_run = "pushd chip-ingress && go mod vendor && popd"

[chip_ingress.pull_config]
local_image = "chip-ingress:local-cre"
ecr_image = "{{.ECR}}/atlas-chip-ingress:da84cb72d3a160e02896247d46ab4b9806ebee2f"

[chip_config.build_config]
repository = "https://github.com/smartcontractkit/atlas"
branch = "master"
commit = "7b4e9ee68fd1c737dd3480b5a3ced0188f29b969"
dockerfile = "chip-config/Dockerfile"
docker_ctx = "chip-config"
local_image = "chip-config:local-cre"
pre_run = "pushd chip-config && go mod vendor && popd"

[chip_config.pull_config]
local_image = "chip-config:local-cre"
ecr_image = "{{.ECR}}/atlas-chip-config:7b4e9ee68fd1c737dd3480b5a3ced0188f29b969"

[billing_platform_service.build_config]
repository = "https://github.com/smartcontractkit/billing-platform-service"
branch = "main"
require_github_token = true
dockerfile = "./Dockerfile"
docker_ctx = "."
local_image = "billing-platform-service:local-cre"

[billing_platform_service.pull_config]
local_image = "billing-platform-service:local-cre"
ecr_image = "{{.ECR}}/billing-platform-service:1.36.1"

[capabilities]
target_path = "./binaries"
# add "install-plugins-public" to also locally compile and copy public plugins (be aware chainlink-cosmos might fail due to issues with cross-compile)
make_commands = ["install-plugins-private", "install-plugins-local"]

[observability]
repository = "https://github.com/smartcontractkit/chainlink-observability"
branch = "main"
target_path = "~/.local/share/observability"
